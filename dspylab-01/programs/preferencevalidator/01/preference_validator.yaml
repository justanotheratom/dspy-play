experiment_name: preference_validator_groq
program:
  module: programs.preferencevalidator.01.program
  factory: build_program
  metrics:
    accuracy: compute_accuracy
    metric_cosine_similarity: metric_cosine_similarity
  extras:
    input_field: preference_request
    output_field: normalized_action
  estimated_calls_per_example: 2.0
  estimated_training_calls: 8.0
models:
  - id: groq-gpt-oss-20b
    provider: groq
    model: openai/gpt-oss-20b
    api_key_env: GROQ_API_KEY
    temperature: 0.2
    cache: true
  - id: groq-llama4-scout-17b
    provider: groq
    model: meta-llama/llama-4-scout-17b-16e-instruct
    api_key_env: GROQ_API_KEY
    temperature: 0.2
    cache: true
  - id: groq-meta-llama-maverick
    provider: groq
    model: meta-llama/llama-4-maverick-17b-128e-instruct
    api_key_env: GROQ_API_KEY
    temperature: 0.2
    cache: true
optimizers:
  - id: labeledfewshot
    type: labeled_few_shot
    params:
      k: 8
  - id: bootstrapfewshot
    type: bootstrap_few_shot
    params:
      max_bootstrapped_demos: 8
      max_labeled_demos: 24
      max_rounds: 3
      metric_threshold: 0.8
      teacher_settings:
        temperature: 0.9
      teacher_model: groq-meta-llama-maverick
    metrics:
      - metric_cosine_similarity
matrix:
  - name: groq_cot_lfs
    model: groq-gpt-oss-20b
    optimizer: labeledfewshot
    metrics:
      - accuracy
  - name: groq_cot_bfs
    model: groq-gpt-oss-20b
    optimizer: bootstrapfewshot
    metrics:
      - accuracy
dataset:
  source: local
  path: 01/data/preferencevalidatordataset.jsonl
outputs:
  root_dir: programs/preferencevalidator/01/results
  raw_filename: raw.jsonl
  summary_filename: summary.json
logging:
  level: info
  verbose: true
